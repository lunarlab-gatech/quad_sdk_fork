<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quad-SDK: Quad-SDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Quad-SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Quad-SDK </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> <a href="https://circleci.com/gh/robomechanics/quad-sdk/tree/main"><img src="https://circleci.com/gh/robomechanics/quad-sdk/tree/main.svg?style=shield" alt="CircleCI" style="pointer-events: none;" class="inline"/></a> <img src="doc/quad_sdk_promo.png" alt="Example image" class="inline"/></p>
<h2>Quad-SDK Fork</h2>
<p>This is a fork of the <a href="https://github.com/robomechanics/quad-sdk">Quad-SDK</a> repository, used to generate simulated UniTree Go2 data for use with the <a href="https://github.com/lunarlab-gatech/Morphology-Informed-HGNN">MI-HGNN</a> paper. For the main repository README.md or the documentation for how to use it, please see the original <a href="https://github.com/robomechanics/quad-sdk">Quad-SDK</a> repository.</p>
<p>However, we made some alterations to the setup process in order to resolve issues or streamline the process. See the sections below for alterations to the install process, and for the list of changes, and the updated uses to replicate our dataset collection process:</p>
<h2>Install Alterations</h2>
<h3>Get HSL solver for IPOPT</h3>
<p>On the "1. Getting Started with Quad SDK" page of the <a href="https://github.com/robomechanics/quad-sdk">Quad-SDK</a> Wiki, it mentions "Get HSL solver for IPOPT". However, you can't install the latest version of the solver, as it has build errors (see Issue #<a href="https://github.com/robomechanics/quad-sdk/issues/425">425</a>). As of the time of writing, it's unclear whether this is solved, but we worked around it by getting the 2022.11.09 version of the solver.</p>
<h2>Changelog</h2>
<ul>
<li>Enabled the "ma57" version of the HSL Solver for faster solving.</li>
<li>Slowed Simulation speed down to 1/5 of real-world speed in order to prevent dropped ROS messages.</li>
<li>The 'A1' robot is used by default instead of the 'Spirit' robot.</li>
<li>Update IMU ROS topic from '&lt;robot&gt;/trunk_imu' to '&lt;robot&gt;/state/imu'.</li>
<li>Set initialOrientationAsReference=false for IMU.</li>
<li>Fix bug causing contact sensor information not to be properly reported.</li>
<li>Increased the IMU update rate maximum to 1000 hz (which ends up being 750 hz in practice).</li>
<li>Wrote the <a href="https://github.com/lunarlab-gatech/quad_sdk_message_synchronizer">Quad-SDK Message Synchronizer</a> in order to synchronize the three messages that we need.</li>
<li>Logger now logs the ROS messages output from the <a href="https://github.com/lunarlab-gatech/quad_sdk_message_synchronizer">Quad-SDK Message Synchronizer</a>.</li>
<li>Fixed the teleop_twist_joy package so Joysticks can be used to control the robot.</li>
<li>Added Nintendo Switch Pro Controller Config file for Joystick input.</li>
</ul>
<h2>Updated Usage</h2>
<p>Make sure to source the ROS Noetic install, and download the <a href="https://github.com/lunarlab-gatech/quad_sdk_message_synchronizer">Quad-SDK Message Synchronizer</a> into the same ROS workspace <code>src</code> folder as this repository.</p>
<p>Launch the simulation with: </p><div class="fragment"><div class="line">roslaunch quad_utils quad_gazebo.launch</div>
</div><!-- fragment --><p>Stand the robot with: </p><div class="fragment"><div class="line">rostopic pub /robot_1/control/mode std_msgs/UInt8 &quot;data: 1&quot;</div>
</div><!-- fragment --><h3>Controlling the robot</h3>
<p>There are two options, either a user can control it directly, or use the global planner to control the robot for them.</p>
<p>To control the robot with keyboard input: </p><div class="fragment"><div class="line">roslaunch quad_utils quad_plan.launch reference:=twist logging:=true</div>
<div class="line">rosrun teleop_twist_keyboard teleop_twist_keyboard.py cmd_vel:=/robot_1/cmd_vel</div>
</div><!-- fragment --><p>Or alternatively, launch the stack with the Joystick input: </p><div class="fragment"><div class="line">roslaunch quad_utils quad_plan.launch reference:=twist logging:=true</div>
</div><!-- fragment --><p>Run the stack with global planner: </p><div class="fragment"><div class="line">roslaunch quad_utils quad_plan.launch reference:=gbpl logging:=true</div>
</div><!-- fragment --><h3>Logging the dataset values</h3>
<p>The dataset values we are interested in (and that are logged) can be seen below: </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
